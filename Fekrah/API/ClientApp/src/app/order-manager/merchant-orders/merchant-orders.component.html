<div class="container">
  <!-- Header -->
  <div class="page-header">
    <div class="header-content">
      <h1 class="page-title">
        <i class="fas fa-car"></i>
        ุฅุฏุงุฑุฉ ุทูุจุงุช ูุทุน ุงูุบูุงุฑ
      </h1>
      <div class="header-actions">
        <button class="btn btn-outline">
          <i class="fas fa-download"></i>
          ุชุตุฏูุฑ ุงูุจูุงูุงุช
        </button>
        <!-- <button class="btn btn-primary">
          <i class="fas fa-plus"></i>
          ุฅุถุงูุฉ ูุทุนุฉ ุฌุฏูุฏุฉ
        </button> -->
      </div>
    </div>
  </div>

  <!-- ุงูุฅุญุตุงุฆูุงุช -->
  <div class="stats-section">
    <div class="stats-grid">
      <div class="stat-card total">
        <div class="stat-icon">
          <i class="fas fa-clipboard-list"></i>
        </div>
        <div class="stat-content">
          <h3>156</h3>
          <p>ุฅุฌูุงูู ุงูุทูุจุงุช</p>
        </div>
      </div>

      <div class="stat-card pending">
        <div class="stat-icon">
          <i class="fas fa-clock"></i>
        </div>
        <div class="stat-content">
          <h3>23</h3>
          <p>ูู ุงูุงูุชุธุงุฑ</p>
        </div>
      </div>

      <div class="stat-card confirmed">
        <div class="stat-icon">
          <i class="fas fa-check-circle"></i>
        </div>
        <div class="stat-content">
          <h3>89</h3>
          <p>ูุคูุฏ</p>
        </div>
      </div>

      <div class="stat-card revenue">
        <div class="stat-icon">
          <i class="fas fa-money-bill-wave"></i>
        </div>
        <div class="stat-content">
          <h3>15,250 ุฌ.ู</h3>
          <p>ุฅูุฑุงุฏุงุช ุงูููู</p>
        </div>
      </div>
    </div>
  </div>

  <div class="filters-section">
    <div class="filters-grid">
      <div class="filter-group">
        <label>ุงูุจุญุซ ูู ุงูุทูุจุงุช</label>
        <div class="search-wrapper">
          <!-- <i class="fas fa-search"></i> -->
          <input type="text" placeholder="ุงุจุญุซ ุนู ุฑูู ุงูุทูุจุ ุงุณู ุงูุนูููุ ุฃู ููุน ุงููุทุนุฉ...">
        </div>
      </div>

      <div class="filter-group">
        <label>ุญุงูุฉ ุงูุทูุจ</label>
        <select>
          <option>ุฌููุน ุงูุญุงูุงุช</option>
          <option>ูู ุงูุงูุชุธุงุฑ</option>
          <option>ูุคูุฏ</option>
          <option>ุฌุงุฑู ุงูุชุญุถูุฑ</option>
          <option>ุฌุงูุฒ ููุงุณุชูุงู</option>
          <option>ูู ุงูุทุฑูู</option>
          <option>ุชู ุงูุชุณููู</option>
          <option>ููุบู</option>
        </select>
      </div>

      <div class="filter-group">
        <label>ุงูุชุงุฑูุฎ</label>
        <input type="date">
      </div>

      <div class="filter-group">
        <label>&nbsp;</label>
        <button class="btn btn-outline">
          <i class="fas fa-undo"></i>
          ุฅุนุงุฏุฉ ุชุนููู
        </button>
      </div>
    </div>
  </div>


  <!-- ูุงุฆูุฉ ุงูุทูุจุงุช -->
  <div class="orders-section">
    <div class="orders-header">
      <h3>ูุงุฆูุฉ ุงูุทูุจุงุช ({{ filteredOrders.length }} ุทูุจ)</h3>
    </div>

    <div class="order-card" *ngFor="let order of filteredOrders">
      <div class="order-header">
        <div class="order-info">
          <div class="order-number">#{{ order.orderNumber }}</div>
          <div class="order-date">{{ order.orderDate | date: 'd MMMM yyyy - h:mm a' : 'ar-EG' }}
          </div>
        </div>
        <div class="d-flex align-items-center h-100">
          <span class="status-badge" [ngStyle]="{'background': getStatusColor(order.status)}">
            <i [class]="getStatusIcon(order.status)"></i>
            {{ getStatusLabel(order.status) }}
          </span>
        </div>
      </div>

      <!-- ุจูุงูุงุช ุงูุนููู -->
      <div class="customer-section">
        <div class="customer-grid">
          <div class="customer-item">
            <i class="fas fa-user"></i>
            <span>{{ order.customerName }}</span>
          </div>
          <div class="customer-item">
            <i class="fas fa-phone"></i>
            <span>{{ order.customerPhone }}</span>
          </div>
          <div class="customer-item">
            <i class="fas fa-map-marker-alt"></i>
            <span>{{ order.customerAddress }}</span>
          </div>
        </div>
      </div>

      <!-- ุชูุงุตูู ุงูููุชุฌุงุช -->
      <div class="products-section">
        <div class="products-header">
          <span class="products-count">{{ order.items.length }} ูุทุน ุบูุงุฑ</span>
          <span class="products-total">{{ order.totalAmount | number:'1.0-0' }} ุฌ.ู</span>
        </div>
        <div class="products-list">
          <div class="product-item" *ngFor="let item of order.items">
            <img [src]="item.image" class="product-image" alt="{{ item.productName }}">
            <div class="product-details">
              <div class="product-name">{{ item.productName }}</div>
              <div class="product-specs">ุงููููุฉ: {{ item.quantity }} ร {{ item.price | number:'1.0-0' }} ุฌ.ู</div>
            </div>
          </div>
        </div>
      </div>

      <!-- ุฅุฌุฑุงุกุงุช ุงูุทูุจ -->
      <div class="actions-section">
        <div class="actions-container">
          <div class="action-group">
            <a class="btn btn-info" (click)="viewOrderDetails(order)">
              <i class="fas fa-eye"></i>
              ุนุฑุถ ุงูุชูุงุตูู
            </a>
            <button class="btn btn-outline" (click)="printOrder(order)">
              <i class="fas fa-print"></i>
              ุทุจุงุนุฉ
            </button>
          </div>
          <div class="action-group">
            <button *ngIf="order.status === 'pending'" class="btn btn-success"
              (click)="updateOrderStatus(order.id, 'confirmed')">
              <i class="fas fa-check"></i>
              ุชุฃููุฏ ุงูุทูุจ
            </button>
            <button *ngIf="order.status === 'pending'" class="btn btn-danger"
              (click)="updateOrderStatus(order.id, 'cancelled')">
              <i class="fas fa-times"></i>
              ุฅูุบุงุก ุงูุทูุจ
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

<div class="demo-loader" style="margin: 1rem 0;">
  <label>๐ ุชุฌุฑุจุฉ ุงูุทูุจ ุจุญุงูุฉ ูุฎุชููุฉ:</label>
  <select (change)="loadMockOrder($event)">
    <option disabled selected>ุงุฎุชุฑ ุญุงูุฉ...</option>
    <option *ngFor="let status of orderStatusOptions" [value]="status">
      {{ getStatusLabel(status) }}
    </option>
  </select>
</div>


<app-order-details *ngIf="showOrderDetails" [selectedOrder]="selectedOrder" [showOrderDetails]="showOrderDetails"
  (closeDetails)="closeOrderDetails()" (statusUpdate)="updateOrderStatus($event.orderId, $event.newStatus)"
  (orderPrint)="printOrder($event)">
</app-order-details>
