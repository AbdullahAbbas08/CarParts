<div class="category-parts-page" [class.shifted]="showSidebar">

  <!-- ✅ Header ثابت ويتحرك عند فتح الفلتر -->
  <header class="header">
    <div class="header-right">
      <h1 class="page-title">🛠️ قطع الغيار المتوفرة</h1>
    </div>

    <div class="header-left">
      <button (click)="toggleSidebar()" class="toggle-sidebar">
        <i class="fas fa-filter"></i> فلتر
      </button>
      <select (change)="changePageSize($event)" class="page-size-selector">
        <option *ngFor="let size of pageSizeOptions" [value]="size">
          {{ size }} لكل صفحة
        </option>
      </select>
    </div>
  </header>

  <!-- ✅ المحتوى الرئيسي + الفلتر -->
  <div class="page-layout">
    <section class="parts-section">
      <div class="parts-grid">
        <app-card
          *ngFor="let part of filteredParts | paginate: { itemsPerPage: pageSize, currentPage: currentPage }"
          [part]="part">
        </app-card>
      </div>

      <!-- ✅ Pagination Component -->
      <div class="pagination-container">
        <pagination-controls
          (pageChange)="pageChanged($event)"
          previousLabel="‹ السابق"
          nextLabel="التالي ›"
          firstLabel="« الأول"
          lastLabel="الأخير »">
        </pagination-controls>
      </div>
    </section>

    <!-- ✅ Sidebar الفلتر في اليمين -->
    <aside class="filters-sidebar" [class.open]="showSidebar">
      <app-filter-sidebar></app-filter-sidebar>
    </aside>
  </div>
</div>
